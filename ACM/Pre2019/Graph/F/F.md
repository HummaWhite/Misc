# F

由于每个点的值只能取一次，遇到环的话就相当于一次取完环上每个点的值。所以先跑一遍Tarjan缩点，再跑DAG最长路，最后在有汉堡店的点（缩环后）取最大值就行了。