# O

查了一下，这种生成树问题叫最优比例生成树，属于01分数规划问题一大类。我们可以用如下式子表示选择一些边时的比值：

$r = \frac{\sum{a_i e_i}}{\sum{b_i e_i}}$，$a_i$、$b_i$为两种权值，$e_i$表示这条边选不选。然后这个式子变一下形：$\sum{a_i} - r \sum{b_i} = 0$

如果出现更优值$r^*$（小于$r$）那么上$\sum a_i- r^* \sum b_i > 0$

具体做法是二分，每次把上面的式子作为边权跑最小生成树判断可行与否。或者用名为Dinkelbach的迭代法（好像在这个题上迭代要快……）。

边数$n^2$但点数只有1000，朴素prim就可以过了（貌似有时候加堆会负优化？）