# J

这道题嘛……后面看了题解再做的。果然是数据结构学傻了么，一上来想到的是n^3 dp……

这道题的主要思路就是缩点，因为选了一个数之后其相邻的两个就不能选了，相当于三个点变成了一个a[x] - a[pre[x]] - a[next[x]]的点。每次取最大值，要用优先队列维护。nlogn